:root {
  --bg: #f7f7fb;
  --card: #ffffff;
  --text: #0b1220;
  --muted: #55607a;
  --accent: #3b82f6;
  --ok: #10b981;
  --bad: #ef4444;
  --border: #e8eaf1;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --shadow: 0 1px 0 rgba(15, 23, 42, 0.03), 0 4px 16px rgba(15, 23, 42, 0.06);
  --fs-base: 15.5px; --fs-small: 13px; --fs-h3: 16.5px;
}

html[data-theme="dark"] {
  --bg: #0f172a; --card: #0b1220; --text: #e5e7eb; --muted: #9aa3b2;
  --accent: #60a5fa; --ok: #34d399; --bad: #f87171; --border: #1f2737;
  --shadow: 0 1px 0 rgba(0,0,0,.25), 0 4px 16px rgba(0,0,0,.25);
}

* { box-sizing: border-box; }
body {
  margin: 0; background: var(--bg); color: var(--text);
  font: var(--fs-base)/1.55 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
}

/* Topbar */
.topbar { display:flex; align-items:center; justify-content:space-between; padding: 12px 18px; border-bottom: 1px solid var(--border); position: sticky; top: 0; backdrop-filter: blur(6px); background: color-mix(in srgb, var(--bg) 86%, transparent); z-index: 10; }
.topbar h1 { margin: 0; font-size: 18px; font-weight: 700; letter-spacing: .1px; }
.topbar .sub { color: var(--muted); font-weight: 500; font-size: 14px; margin-left: 8px;}
.actions { display:flex; gap:8px; }

/* Buttons */
button, .ghost, .primary, a.ghost { cursor: pointer; border:1px solid var(--border); background: var(--card); color: var(--text); border-radius: 10px; padding: 8px 12px; text-decoration: none; box-shadow: var(--shadow); }
button.primary { background: var(--accent); color: white; border-color: var(--accent); }
button.ghost.small, .ghost.small { padding: 6px 10px; font-size: var(--fs-small); }
button:disabled { opacity: .6; cursor: not-allowed; box-shadow: none; }

/* Stepper */
.stepper { display:flex; align-items:center; gap:8px; padding:10px 18px; overflow-x:auto; border-bottom: 1px solid var(--border); }
.stepper .sep { flex: 0 0 10px; height:2px; background:var(--border); border-radius:4px; }
.step { display:flex; align-items:center; gap:8px; padding:5px 9px; border-radius:999px; background:transparent; color:var(--muted); border:1px solid var(--border); white-space: nowrap; font-size: 13.5px; }
.step.active { color: var(--text); border-color: var(--accent); box-shadow: 0 0 0 2px color-mix(in srgb, var(--accent) 20%, transparent); }
.step.done { color: var(--ok); border-color: var(--ok); }
.idx { width:20px; height:20px; border-radius:50%; display:inline-grid; place-items:center; background:var(--card); border:1px solid var(--border); font-weight:600; }

/* Layout */
.main { max-width: 1320px; margin: 0 auto; padding: 16px 18px 20px; }
.container { display:grid; grid-template-columns: 1.6fr 1fr; gap: 14px; align-items: start; }
.left, .right { display: grid; gap: 14px; }
.grid-two { display:grid; grid-template-columns: 1fr 1fr; gap: 14px; }

/* Cards */
.card { background: var(--card); border:1px solid var(--border); border-radius:12px; padding: 12px; box-shadow: var(--shadow); }
.card h3 { margin: 0 0 6px 0; font-size: var(--fs-h3); }

.callout { border-left: 4px solid var(--accent); padding-left: 10px; }
.callout-head { display:flex; justify-content:space-between; align-items:flex-start; gap:10px; }
.eyebrow { text-transform: uppercase; letter-spacing: .06em; font-size: 11px; color: var(--muted); margin-bottom: 4px; }

.kv { display:flex; align-items:flex-start; gap:8px; margin: 6px 0; }
.kv b { min-width: 170px; color: var(--muted); font-weight:600; font-size: 13.5px; }
.kv code { font-family: var(--mono); font-size: 11.5px; line-height: 1.45; background: color-mix(in srgb, var(--card) 92%, var(--border)); padding: 3px 6px; border-radius:6px; user-select: all; word-break: break-all; }
.kv.small code { font-size: 11px; }

/* badges */
.badge { font-size: 11.5px; background: color-mix(in srgb, var(--accent) 20%, var(--card)); color: var(--accent); padding: 2px 8px; border-radius: 999px; }
.badge.pill { padding: 2px 9px; }
.badge.subtle { background: color-mix(in srgb, var(--muted) 18%, var(--card)); color: var(--muted); }

/* inputs */
textarea { width: 100%; background: var(--bg); border:1px solid var(--border); border-radius:10px; padding:10px; resize: vertical; color: var(--text); font-size: 14.5px; }
.presets { display:flex; gap:8px; margin-top:8px; flex-wrap:wrap; }

/* status & controls */
.status { padding:9px 10px; border-radius:10px; background: color-mix(in srgb, var(--ok) 18%, var(--card)); border:1px solid var(--border); }
.status.ok { color: var(--ok); }
.status.bad { color: var(--bad); background: color-mix(in srgb, var(--bad) 10%, var(--card)); }
.controls { display:flex; justify-content: flex-end; gap:10px; margin-top: 16px; }

.switch { display:flex; align-items:center; gap:8px; font-size: 13.5px; }
.row { margin: 8px 0; }
.actions-inline { display:flex; gap:8px; flex-wrap: wrap; }

.time { color: var(--muted); }
.small { font-size: var(--fs-small); }
.foot { text-align:center; color: var(--muted); padding: 14px 10px; }

.terms { display:flex; gap:6px; flex-wrap:wrap; margin-top:6px; }
.terms .term { font-size:11.5px; padding:2px 8px; border:1px dashed var(--border); border-radius:999px; color: var(--muted); }

.bullets { margin: 4px 0 0 16px; padding:0; font-size: 14px; }
.bullets li { margin: 5px 0; }

/* copyable pulse */
.copyable { position: relative; cursor: copy; }
.copyable:active { transform: scale(0.99); }
.pulse { animation: pulse 800ms ease 1; }
@keyframes pulse { 0%{ background-color: color-mix(in srgb, var(--accent) 16%, var(--card)); } 100%{ background-color: color-mix(in srgb, var(--card) 92%, var(--border)); } }

/* responsive */
@media (max-width: 1040px) {
  .container { grid-template-columns: 1fr; }
  .grid-two { grid-template-columns: 1fr; }
}
